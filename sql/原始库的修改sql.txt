CREATE TABLE "public"."cc_product" (
  "code" varchar(64) COLLATE "cc_product"."default",
  "proname" varchar(64) COLLATE "cc_product"."default",
	status int4,
	isgood int4,--是否是产品
  "createdby" varchar(64) COLLATE "cc_product"."default",
  "created" timestamp(6),
  "org_id" int4
);
COMMENT ON COLUMN "public"."cc_product"."status" IS '0停用1启用';
COMMENT ON COLUMN "public"."cc_product"."isgood" IS '0不是1是产品';

//创建人的转移日志表
create table cc_thecontact_log(
	"code" varchar(50) not null ,
  "guestcode" varchar(64),
  "thecode" varchar(64),
	"branch_dellogcode" varchar(64),
  "createdby" varchar(64), --操作人
  "created" timestamp(6)--操作时间
);
COMMENT ON COLUMN "public"."cc_thecontact_log"."guestcode" IS '公司code';
COMMENT ON COLUMN "public"."cc_thecontact_log"."branch_dellogcode" IS '分店修改日志code'


//添加分店的id
ALTER table cc_thecontact  add  branchcode varchar(64)

COMMENT ON COLUMN "public"."cc_thecontact"."branchcode" IS '店的id'


ALTER table cc_thecontact  add  branchcode varchar(64)
COMMENT ON COLUMN "public"."cc_thecontact"."branchcode" IS '店的id'

//创建店的删除表
create table cc_branch_dellog(
	"code" varchar(50) not null ,
  "guestcode" varchar(64),
	"branchcode" varchar(64),
	"storename" varchar(64),
	"address" varchar(64) ,
	"ystorename" varchar(64),
	"yaddress" varchar(64) ,
	"states" int4,
	"createdtime" date, --人的id
  "createdby" varchar(64), --操作人
  "created" timestamp(6)--操作时间
);


COMMENT ON COLUMN "public"."cc_branch_dellog"."guestcode" IS '公司code';
COMMENT ON COLUMN "public"."cc_branch_dellog"."storename" IS '分店名称';
COMMENT ON COLUMN "public"."cc_branch_dellog"."branchcode" IS '分店的id';
COMMENT ON COLUMN "public"."cc_branch_dellog"."address" IS '分店地址';
COMMENT ON COLUMN "public"."cc_branch_dellog"."ystorename" IS '原分店名称';
COMMENT ON COLUMN "public"."cc_branch_dellog"."yaddress" IS '原分店地址';
COMMENT ON COLUMN "public"."cc_branch_dellog"."states" IS '0删除1修改';
COMMENT ON COLUMN "public"."cc_branch_dellog"."createdtime" IS '创建日期';








COMMENT ON COLUMN "public"."cc_guest"."communication" IS '1客户2重点意向客户3咨询客户4陌生客户'


COMMENT ON COLUMN "public"."cc_guest"."customtype" IS '公司类型1健身俱乐部2健身工作室3余家会所4器械器5培训机构6其他';

//获客渠道
ALTER table cc_guest add channel int4;
COMMENT ON COLUMN "public"."cc_guest"."channel" IS '获客渠道:1抖音2公众号3转介绍4展会5论坛6粉丝客户7其他';

//添加公众号
ALTER table cc_guest add thepublic VARCHAR(64);
COMMENT ON COLUMN "public"."cc_guest"."thepublic" IS '公众号';


create table cc_branch(
 code varchar(64),
 guestcode varchar(64),
 storename varchar(64),
 address varchar(64),
 createdby varchar(64),
 created timestamp(6),
 states int4
);

COMMENT ON COLUMN "public"."cc_branch"."code" IS 'id';
COMMENT ON COLUMN "public"."cc_branch"."guestcode" IS 'guest表的id';
COMMENT ON COLUMN "public"."cc_branch"."storename" IS '分店名称';
COMMENT ON COLUMN "public"."cc_branch"."address" IS '分店地址';
COMMENT ON COLUMN "public"."cc_branch"."createdby" IS '创建人';
COMMENT ON COLUMN "public"."cc_branch"."created" IS '创建时间';
COMMENT ON COLUMN "public"."cc_branch"."states" IS '0主店1分店';
COMMENT ON TABLE "public"."cc_branch" IS '分店详细表';




---------------------------------------



alter table cc_thecontact add birthday Date;
COMMENT ON COLUMN "public"."cc_thecontact"."birthday" IS '生日';

alter table cc_guest add guestnum int;
COMMENT ON COLUMN "public"."cc_guest"."guestnum" IS '公司数量';
--合并和转移日志表
CREATE TABLE "public"."cc_merger_transfer_log" (
  "code" varchar(64) ,
  "yguestcode" varchar(64) ,
	"xguestcode" varchar(64),
	
	"thecode" varchar(64),
	 "ymc" varchar(64) ,
	"xmc" varchar(64),
	"type" int4,
  "createdby" varchar(64) ,
  "created" timestamp(6),
  "org_id" int4,
	"contents" TEXT
)
;


COMMENT ON COLUMN "public"."cc_merger_transfer_log"."code" IS '主键';
COMMENT ON COLUMN "public"."cc_merger_transfer_log"."yguestcode" IS '原来的公司';
COMMENT ON COLUMN "public"."cc_merger_transfer_log"."xguestcode" IS '现在的公司';
COMMENT ON COLUMN "public"."cc_merger_transfer_log"."thecode" IS '联系人code';
COMMENT ON COLUMN "public"."cc_merger_transfer_log"."ymc" IS '原来的mc';
COMMENT ON COLUMN "public"."cc_merger_transfer_log"."xmc" IS '现在的mc';
COMMENT ON COLUMN "public"."cc_merger_transfer_log"."type" IS '类型：1转移2合并';
COMMENT ON COLUMN "public"."cc_merger_transfer_log"."createdby" IS '操作人';
COMMENT ON COLUMN "public"."cc_merger_transfer_log"."created" IS '操作时间';
COMMENT ON COLUMN "public"."cc_merger_transfer_log"."org_id" IS 'orgid';
COMMENT ON COLUMN "public"."cc_merger_transfer_log"."contents" IS '公司名称;公司电话;email;公司详细地址;邮编;备注;会籍;厨师会籍;省;市;客户类型;客户分类;客户详细分类;';


--添加职位表
CREATE TABLE "public"."cc_position" (
  "code" varchar(64) ,
  "posname" varchar(64) ,
  "createdby" varchar(64) ,
  "created" timestamp(6),
  "org_id" int4
)
;


alter table cc_guest add custclass int;
COMMENT ON COLUMN "public"."cc_guest"."custclass" IS '客户分类：1殊途设计，2殊途平牌3单次学习4全年学习，5 6+1学习 7学习点客户，8内训客户;

CREATE TABLE "public"."cc_label_the" (
  "code" varchar(64) COLLATE "pg_catalog"."default" NOT NULL,
  "thecode" varchar(64) COLLATE "pg_catalog"."default",
  "labelcode" varchar(64) COLLATE "pg_catalog"."default",
  "createdby" varchar(64) COLLATE "pg_catalog"."default",
  "created" timestamp(6),
  "org_id" int4
)
;

ALTER TABLE "public"."cc_label_the" 
  OWNER TO "postgres";

COMMENT ON COLUMN "public"."cc_label_the"."code" IS '主键';

COMMENT ON COLUMN "public"."cc_label_the"."thecode" IS '联系人id';

COMMENT ON COLUMN "public"."cc_label_the"."labelcode" IS '标签id';

COMMENT ON COLUMN "public"."cc_label_the"."createdby" IS '操作人';

COMMENT ON COLUMN "public"."cc_label_the"."created" IS '日期';

COMMENT ON COLUMN "public"."cc_label_the"."org_id" IS '门店';

--zyb 添加关联表
CREATE TABLE "public"."cc_label_guest" (
  "code" varchar(64)  NOT NULL,
  "guestcode" varchar(64) ,
	"labelcode" varchar(64),
  "createdby" varchar(64) ,
  "created" timestamp(6),
  "org_id" int4
);
ALTER TABLE "public"."cc_label_guest"  OWNER TO "postgres";
COMMENT ON COLUMN "public"."cc_label_guest"."code" IS '主键';
COMMENT ON COLUMN "public"."cc_label_guest"."guestcode" IS '会员id';
COMMENT ON COLUMN "public"."cc_label_guest"."labelcode" IS '标签id';
COMMENT ON COLUMN "public"."cc_label_guest"."createdby" IS '操作人';
COMMENT ON COLUMN "public"."cc_label_guest"."created" IS '日期';
COMMENT ON COLUMN "public"."cc_label_guest"."org_id" IS '门店';

--zyb添加可能性标签
CREATE TABLE "public"."cc_label" (
  "code" varchar(64)  NOT NULL,
  "name" varchar(64) ,
  "createdby" varchar(64) ,
  "created" timestamp(6),
  "org_id" int4
);
ALTER TABLE "public"."cc_label"  OWNER TO "postgres";
COMMENT ON COLUMN "public"."cc_label"."code" IS '主键';
COMMENT ON COLUMN "public"."cc_label"."name" IS '标签名称';
COMMENT ON COLUMN "public"."cc_label"."createdby" IS '添加人';
COMMENT ON COLUMN "public"."cc_label"."create" IS '修改日期';
COMMENT ON COLUMN "public"."cc_label"."org_id" IS '门店';

--zyb 添加沟通阶段
alter table cc_guest add communication int;
COMMENT ON COLUMN "public"."cc_guest"."communication" IS '沟通分类：1客户，2重点意向客户，3咨询客户，4陌生客户;
--zyb 修改注释
COMMENT ON COLUMN "public"."t_table_data_log"."before_value" IS '修改前，排序：公司地址；公司邮箱；公司电话；公司名称；省；市；；客户类型；公司邮编；备注';
COMMENT ON COLUMN "public"."t_table_data_log"."after_value" IS '修改后，排序：公司地址；公司邮箱；公司电话；公司名称；省；市；；客户类型；公司邮编；备注';
--zyb 修改注释
COMMENT ON COLUMN "public"."cc_comm"."commresult" IS '跟进状态';
--zyb 添加跟进联系人字段
alter table cc_comm add thecontactcode varchar(50);
COMMENT ON COLUMN "public"."cc_comm"."thecontactcode" IS '联系人';

--zyb 添加公司名称
alter table cc_public add officename varchar(50);
COMMENT ON COLUMN "public"."cc_public"."officename" IS '公司名称';

--zyb 修改字段的注释
COMMENT ON COLUMN "public"."cc_guest"."customtype" IS '客户类型';

--zyb 添加联系人表
CREATE TABLE "public"."cc_thecontact" (
  "code" varchar(64) COLLATE "pg_catalog"."default" NOT NULL,
  "guestcode" varchar(64) COLLATE "pg_catalog"."default",
  "name" varchar(64) COLLATE "pg_catalog"."default",
  "sex" int4,
  "mobile" varchar(2000) COLLATE "pg_catalog"."default",
  "position" int4,
  "createdby" varchar(64) COLLATE "pg_catalog"."default",
  "created" timestamp(6),
  "org_id" int4,
  "remark" varchar(2000) COLLATE "pg_catalog"."default",
  "followstate" int4,
  "status" int4
)
;

ALTER TABLE "public"."cc_thecontact" 
  OWNER TO "postgres";

COMMENT ON COLUMN "public"."cc_thecontact"."code" IS '主键';

COMMENT ON COLUMN "public"."cc_thecontact"."guestcode" IS 'cc_guest表中code';

COMMENT ON COLUMN "public"."cc_thecontact"."name" IS '姓名';

COMMENT ON COLUMN "public"."cc_thecontact"."sex" IS '性别';

COMMENT ON COLUMN "public"."cc_thecontact"."mobile" IS '手机号';

COMMENT ON COLUMN "public"."cc_thecontact"."position" IS '职位';

COMMENT ON COLUMN "public"."cc_thecontact"."createdby" IS '添加人';

COMMENT ON COLUMN "public"."cc_thecontact"."created" IS '添加实际';

COMMENT ON COLUMN "public"."cc_thecontact"."org_id" IS '门店';

COMMENT ON COLUMN "public"."cc_thecontact"."remark" IS '公司名称';

COMMENT ON COLUMN "public"."cc_thecontact"."followstate" IS '跟进状态';

COMMENT ON COLUMN "public"."cc_thecontact"."status" IS '0显示1不显示';
